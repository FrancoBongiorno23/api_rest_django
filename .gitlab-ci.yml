image: python:3.9.13-slim-buster

before_script:
  - python --version

stages:
  - analysis
  - test

test:
  stage: test
  script:
    - py manage.py test
    - source -m venv/bin/activate
    - pip install django
    - py manage.py makemigrations
    - py manage.py migrate
    - py manage.py test
